(this["webpackJsonpfbtask-with-api"]=this["webpackJsonpfbtask-with-api"]||[]).push([[0],{51:function(e,t,c){},78:function(e,t,c){"use strict";c.r(t);var n=c(3),a=c(16),s=c.n(a),r=(c(50),c(51),c(9)),i=c(19),o=c.n(i),l=c(25),u=c(22),b=c.n(u),d=c(80),j=c(81),f=c(30),x=(f.a.initializeApp({apiKey:"AIzaSyBXcQjnf9zIWGnN-gEFM2glXFQu-K1ni0M",authDomain:"fb-timeline-ac3dc.firebaseapp.com",projectId:"fb-timeline-ac3dc",storageBucket:"fb-timeline-ac3dc.appspot.com",messagingSenderId:"601869846562",appId:"1:601869846562:web:445de183b4ff8b1699627b"}),f.a.storage()),m=c(2),p=function(e){var t=e.handleClose,c=e.show,a=e.input,s=e.setInput,i=e.setPosts,u=e.posts,f=Object(n.useState)(""),p=Object(r.a)(f,2),h=p[0],O=p[1],g=Object(n.useState)({}),w=Object(r.a)(g,2),y=w[0],v=w[1],N=function(){var e=Object(l.a)(o.a.mark((function e(){var c,n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a||h){e.next=2;break}return e.abrupt("return");case 2:return t(),c=x.ref(),e.next=6,c.child("images/"+y.name).put(y);case 6:return e.next=8,c.child("images/"+y.name).getDownloadURL();case 8:return n=e.sent,e.next=11,b.a.post("http://139.59.47.49:4004/api/post",{post:a,background:y.name?n:h});case 11:(r=u).push({post:a,background:y.name?n:h}),i(r),v({}),O(""),s("What's on your mind?"),alert("upload complete");case 18:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)(d.a,{show:c,onHide:t,centered:!0,children:[Object(m.jsx)(d.a.Header,{closeButton:!0,children:Object(m.jsx)("h5",{className:"text-center col-11",children:"Create Post"})}),Object(m.jsx)("div",{className:"d-flex flex-column gap-2 p-5 modal-container justify-content-center align-items-center",style:{background:'url("'.concat(h,'")')},children:Object(m.jsx)("input",{type:"text",className:"status-caption",value:a,onChange:function(e){return s(e.target.value)}})}),Object(m.jsxs)("div",{className:"btn-carousel",children:[Object(m.jsx)("label",{className:"carousel-btn ms-3 me-2",style:{},for:"upload",children:"\ud83d\udcf7"}),Object(m.jsx)("span",{className:"mx-2",onClick:function(){return O("https://images.unsplash.com/photo-1500021804447-2ca2eaaaabeb?ixid=MnwxMjA3fDB8MHxzZWFyY2h8MjJ8fHdpZGV8ZW58MHx8MHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60")},children:"\ud83d\udcfc"}),Object(m.jsx)("span",{onClick:function(){return O("https://images.unsplash.com/photo-1518199266791-5375a83190b7?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=750&q=80")},children:"\u2764\ufe0f"}),Object(m.jsx)("span",{className:"mx-2",onClick:function(){return O("https://images.unsplash.com/photo-1505740420928-5e560c06d30e?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=750&q=80")},children:"\ud83c\udfb5"}),Object(m.jsx)("span",{onClick:function(){return O("https://images.unsplash.com/photo-1496483648148-47c686dc86a8?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=752&q=80")},children:"\ud83c\udf3c"}),Object(m.jsx)("span",{onClick:function(){return O("https://images.unsplash.com/photo-1565945887714-d5139f4eb0ce?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=750&q=80")},children:"\ud83c\udfcb\ufe0f"}),Object(m.jsx)("span",{onClick:function(){return O("https://images.unsplash.com/photo-1565945887714-d5139f4eb0ce?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=750&q=80")},children:"\ud83d\ude0a"}),Object(m.jsx)("span",{className:"mx-2",onClick:function(){return O("https://images.unsplash.com/photo-1461749280684-dccba630e2f6?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=750&q=80")},children:"\u2328\ufe0f"})]}),Object(m.jsx)("input",{type:"file",id:"upload",onChange:function(e){O(URL.createObjectURL(e.target.files[0])),v(e.target.files[0])}}),Object(m.jsx)("div",{className:"d-grid m-3",children:Object(m.jsx)(j.a,{variant:"secondary",size:"lg",onClick:N,children:"Post"})})]})})},h=function(e){var t=e.setFilterDate,c=e.setFilterShow,a=Object(n.useState)(1),s=Object(r.a)(a,2),i=s[0],o=s[1],l=Object(n.useState)(1),u=Object(r.a)(l,2),b=u[0],d=u[1],j=Object(n.useState)("2015"),f=Object(r.a)(j,2),x=f[0],p=f[1];console.log("==>date==> ".concat(x,"-").concat(b,"-").concat(i));var h=[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31].map((function(e){return Object(m.jsx)("option",{value:e,children:e},e)})),O=["January","February","March","April","May","June","July","August","September","October","November","December"].map((function(e,t){return Object(m.jsx)("option",{value:t+1,children:e},e)})),g=[2015,2016,2017,2018,2019,2020,2021].map((function(e){return Object(m.jsx)("option",{value:e,children:e},e)}));return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("div",{className:"d-flex justify-content-around",children:[Object(m.jsx)("select",{className:"form-select mx-2","aria-label":"Default select example",value:x,onChange:function(e){return p(e.target.value)},children:g}),Object(m.jsx)("select",{className:"form-select mx-2","aria-label":"Default select example",value:b,onChange:function(e){return d(e.target.value)},children:O}),Object(m.jsx)("select",{className:"form-select mx-2","aria-label":"Default select example",value:i,onChange:function(e){return o(e.target.value)},children:h})]}),Object(m.jsx)("div",{className:"d-flex mt-3 justify-content-center align-items-center",children:Object(m.jsx)("button",{className:"btn btn-primary w-100",onClick:function(){t("".concat(x,"-").concat(b,"-").concat(i)),c(!1)},children:"Done"})})]})},O=function(e){var t=e.filterShow,c=e.setFilterShow,n=(e.filterDate,e.setFilterDate);return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)(d.a,{show:t,onHide:function(){return c(!1)},centered:!0,children:[Object(m.jsx)(d.a.Header,{closeButton:!0,children:Object(m.jsx)("h5",{className:"text-center col-11",children:"Filter Post"})}),Object(m.jsxs)(d.a.Body,{children:[Object(m.jsx)("h5",{className:"",children:"Use Filter and find post on your timeline."}),Object(m.jsx)("h5",{className:"flush",children:"This will not affect how others see your timeline."}),Object(m.jsx)(h,{setFilterDate:n,setFilterShow:c})]})]})})},g=function(e){var t=e.username,c=e.posts,a=e.setPosts,s=e.orderBy,r=e.setOrderBy,i=e.filterDate;Object(n.useEffect)((function(){return console.log("useEffect ran"),function(){var e=Object(l.a)(o.a.mark((function e(){var t,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.get("http://139.59.47.49:4004/api/posts",{params:{limit:20,start:1,orderby:s,date:i}});case 2:t=e.sent,c=t.data,console.log(c),a(c);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()(),function(){}}),[s,i,a]);return Object(m.jsxs)("div",{className:"container",children:[c.length>=2&&Object(m.jsx)("button",{className:"btn btn-primary mb-3",onClick:function(){r(0===s?1:0)},children:"Change Order"}),c&&c.map((function(e){return Object(m.jsx)("div",{className:"card mb-5",style:{width:"100%"},children:Object(m.jsxs)("div",{className:"card-body position-relative",children:[Object(m.jsxs)("div",{className:"mb-3",children:[Object(m.jsx)("img",{className:"rounded-circle-sm img-fluid",src:"https://images.unsplash.com/photo-1520155707862-5b32817388d6?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=334&q=80/171x180",alt:"profile",width:15}),Object(m.jsx)("span",{className:"h5 ms-3",children:t}),Object(m.jsx)("button",{className:"btn btn-danger ms-5",onClick:function(){return function(e){b.a.delete("http://139.59.47.49:4004/api/post/delete/".concat(e));var t=c.filter((function(t){return t.id!==e}));a(t)}(e.id)},children:"Delete post"})]}),Object(m.jsx)("img",{className:"img-fluid card-img-bottom",src:e.background,alt:"post"}),Object(m.jsx)("p",{className:"text-center",style:{backgroundColor:"white",margin:"10px 10px",position:"absolute",bottom:"20px",left:"0",right:"0",fontSize:"25px"},children:e.post})]})},e.id)}))]})},w=function(){var e=Object(n.useState)(!1),t=Object(r.a)(e,2),c=t[0],a=t[1],s=Object(n.useState)(!1),i=Object(r.a)(s,2),o=i[0],l=i[1],u=Object(n.useState)("What's on your mind?"),b=Object(r.a)(u,2),d=b[0],j=b[1],f=Object(n.useState)(""),x=Object(r.a)(f,2),h=x[0],w=x[1],y=Object(n.useState)([]),v=Object(r.a)(y,2),N=v[0],M=v[1],D=Object(n.useState)(1),H=Object(r.a)(D,2),B=H[0],k=H[1];return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("div",{className:"container",children:[Object(m.jsx)("div",{children:Object(m.jsx)("h2",{className:"text-center",children:"Timeline"})}),Object(m.jsx)("hr",{}),Object(m.jsx)("div",{className:"card p-2 mb-3",children:Object(m.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(m.jsx)("img",{className:"rounded-circle-sm img-fluid",src:"https://images.unsplash.com/photo-1520155707862-5b32817388d6?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=334&q=80/171x180",alt:"profile",width:23}),Object(m.jsx)("span",{className:"ms-2 my-auto flex-grow-1",onClick:function(){return a(!0)},children:"What's on your mind?"})]})}),Object(m.jsx)("div",{className:"card p-2 mb-3",children:Object(m.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(m.jsx)("h2",{children:"Posts"}),Object(m.jsx)("button",{onClick:function(){return l(!0)},className:"btn btn-secondary",children:"Filter"})]})})]}),Object(m.jsx)(p,{handleClose:function(){a(!1),j("")},show:c,setShow:a,input:d,setInput:j,posts:N,setPosts:M}),Object(m.jsx)(O,{filterShow:o,setFilterShow:l,filterDate:h,setFilterDate:w}),Object(m.jsx)(g,{username:"Jerry Luis",posts:N,setPosts:M,orderBy:B,setOrderBy:k,filterDate:h,setFilterDate:w})]})},y=function(){return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("div",{className:"container d-flex align-items-center justify-content-center position-relative rounded",style:{background:'url("https://images.unsplash.com/photo-1429041966141-44d228a42775?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=750&q=80")',height:"500px",backgroundRepeat:"no-repeat",backgroundSize:"cover"},children:Object(m.jsx)("img",{className:"profile-img rounded-circle img-fluid",src:"https://images.unsplash.com/photo-1520155707862-5b32817388d6?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=334&q=80/171x180",alt:"profile"})}),Object(m.jsxs)("div",{className:"container mt-5",children:[Object(m.jsx)("h2",{className:"text-center pt-5",children:"Jerry Luis"}),Object(m.jsx)("hr",{})]})]})},v=function(){return Object(m.jsxs)("div",{children:[Object(m.jsx)(y,{}),Object(m.jsx)(w,{})]})};s.a.render(Object(m.jsx)(v,{}),document.getElementById("root"))}},[[78,1,2]]]);
//# sourceMappingURL=main.89422e6c.chunk.js.map